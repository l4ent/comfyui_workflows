{"id":"8b8b39d8-6cbf-46b5-9b53-9edbb398d557","revision":0,"last_node_id":23,"last_link_id":36,"nodes":[{"id":3,"type":"CLIPSetLastLayer","pos":[-880,-160],"size":[210,60],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":3},{"localized_name":"stop_at_clip_layer","name":"stop_at_clip_layer","type":"INT","widget":{"name":"stop_at_clip_layer"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[6,7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2]},{"id":21,"type":"FaceRestoreModelLoader","pos":[619.8890380859375,-225.38882446289062],"size":[270,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"localized_name":"FACERESTORE_MODEL","name":"FACERESTORE_MODEL","type":"FACERESTORE_MODEL","links":[34]}],"properties":{"cnr_id":"facerestore_cf","ver":"ff4d7a5c102441d8f058dd6135797ffb57b6c6ad","Node name for S&R":"FaceRestoreModelLoader","aux_id":"mav-rik/facerestore_cf"},"widgets_values":["codeformer.pth"]},{"id":1,"type":"CheckpointLoaderSimple","pos":[-1180,-60],"size":[270,98],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[2]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[3]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[35]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["cyberrealisticPony_v127Alt.safetensors"]},{"id":13,"type":"ImageScale","pos":[1314.611083984375,60.72220993041992],"size":[220,342],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":33},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[23]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"ImageScale"},"widgets_values":["bicubic",1024,1536,"disabled"]},{"id":7,"type":"EmptyLatentImage","pos":[-509.5270080566406,357.1805114746094],"size":[270,106],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[13]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"EmptyLatentImage"},"widgets_values":[640,896,1]},{"id":11,"type":"VAEDecode","pos":[755.271484375,212.01400756835938],"size":[140,46],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":16},{"localized_name":"vae","name":"vae","type":"VAE","link":35}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[21,32]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":4,"type":"CLIPTextEncode","pos":[-590.4222412109375,-425.4555358886719],"size":[400,200],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":6},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[8]}],"title":"CLIP Text Encode (pos)","properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"CLIPTextEncode"},"widgets_values":["ultra-detailed, realistic, photo of 23 y.o girl bites her lip and touches her left breast with her fingers, cleavage, pale skin, (smile:0.4), hard shadows, nude, naked, women is on all fours, she is wearing bra and leather skirt, luxury hotel"]},{"id":5,"type":"CLIPTextEncode","pos":[-617.3111572265625,-133.6944580078125],"size":[400,200],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":7},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[9]}],"title":"CLIP Text Encode (neg)","properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"CLIPTextEncode"},"widgets_values":["bad anatomy, deformed, fat, chubby, double chin, extra fingers, lowres, blurry, ugly, bad teeth, malformed mouth, cartoon, cgi, 3d render, watermark, logo, cartoon, illustration, anime, painting, CGI, 3D render, low quality, watermark, label"]},{"id":8,"type":"KSampler","pos":[-171.59999084472656,-25.716670989990234],"size":[270,262],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":2},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":8},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":9},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":13},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":12},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[14]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"KSampler"},"widgets_values":[164405971490172,"fixed",30,4,"dpmpp_2m","karras",1]},{"id":15,"type":"SaveImage","pos":[1036.9254150390625,401.88739013671875],"size":[270,270],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":21},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"SaveImage"},"widgets_values":["pony_img_facerestore_native"]},{"id":9,"type":"LatentUpscale","pos":[153.10552978515625,-410.9000244140625],"size":[230,130],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":14},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[15]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"LatentUpscale"},"widgets_values":["nearest-exact",1024,1536,"disabled"]},{"id":22,"type":"FaceRestoreCFWithModel","pos":[991.4450073242188,-156.33328247070312],"size":[270,102],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"facerestore_model","name":"facerestore_model","type":"FACERESTORE_MODEL","link":34},{"localized_name":"image","name":"image","type":"IMAGE","link":32},{"localized_name":"facedetection","name":"facedetection","type":"COMBO","widget":{"name":"facedetection"},"link":null},{"localized_name":"codeformer_fidelity","name":"codeformer_fidelity","type":"FLOAT","widget":{"name":"codeformer_fidelity"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[33,36]}],"properties":{"cnr_id":"facerestore_cf","ver":"ff4d7a5c102441d8f058dd6135797ffb57b6c6ad","Node name for S&R":"FaceRestoreCFWithModel"},"widgets_values":["retinaface_resnet50",0.25000000000000006]},{"id":10,"type":"KSampler","pos":[420,-60],"size":[270,262],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":2},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":8},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":9},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":15},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":18},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[16]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"KSampler"},"widgets_values":[164405971490172,"fixed",20,4,"dpmpp_2m","karras",0.6000000000000001]},{"id":6,"type":"PrimitiveNode","pos":[-620,160],"size":[220,82],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","widget":{"name":"seed"},"links":[12,18]}],"title":"Seed (INT)","properties":{"Run widget replace on values":false,"Node name for S&R":"PrimitiveNode"},"widgets_values":[164405971490172,"randomize"]},{"id":23,"type":"SaveImage","pos":[1480.2861328125,-341.4387512207031],"size":[270,270],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":36},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"SaveImage"},"widgets_values":["pony_img_facerestore_fr"]},{"id":14,"type":"SaveImage","pos":[1589.2476806640625,80.41622161865234],"size":[270,270],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":23},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"SaveImage"},"widgets_values":["pony_img_facerestore_upscaled"]}],"links":[[2,1,0,8,0,"MODEL"],[3,1,1,3,0,"CLIP"],[6,3,0,4,0,"CLIP"],[7,3,0,5,0,"CLIP"],[8,4,0,8,1,"CONDITIONING"],[9,5,0,8,2,"CONDITIONING"],[12,6,0,8,4,"INT"],[13,7,0,8,3,"LATENT"],[14,8,0,9,0,"LATENT"],[15,9,0,10,3,"LATENT"],[16,10,0,11,0,"LATENT"],[18,6,0,10,4,"INT"],[21,11,0,15,0,"IMAGE"],[23,13,0,14,0,"IMAGE"],[32,11,0,22,1,"IMAGE"],[33,22,0,13,0,"IMAGE"],[34,21,0,22,0,"FACERESTORE_MODEL"],[35,1,2,11,1,"VAE"],[36,22,0,23,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":2.896643797366886,"offset":[-1422.6049310351614,-27.333596129659043]}},"version":0.4}